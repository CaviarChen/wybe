# aliasing data structures then modify input

use data_structure.position

public proc replicate1(pa:position, ?pb:position) use !io
    ?pb = pa
    !print("expect pb is 10? ")
    !println(pb.x)

    x(!pa, 1111)
    !print("expect pa is 1111? ")
    !println(pa.x)
end

?p1 = position(10,10)
!replicate1(p1, ?p2)

!print("expect p1 is 10? ")
!println(p1.x)

!print("expect p2 is 10? ")
!println(p2.x)


x(!p1, 999)
!print("expect p1 is 999? ")
!println(p1.x)

!print("expect p2 still 10? ")
!println(p2.x)